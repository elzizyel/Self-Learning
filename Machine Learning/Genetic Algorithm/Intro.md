<center><font size = 10>遗传算法</font></center>

## 遗传算法特点



1. 作为一种优化算法，GA经常用于快速定位、路径规划、排队、求最优值，甚至是图像处理等作用
2. 结果无法复现-每次的结果都不同; 计算结果稳定性差; 
3. 实际应用时和梯度下降、蒙特卡洛模拟没有明显差异和优势







## 0. 概述

最准确的概述就是，通过不断循环，生成最适合生存下来的物种。

其基本思想就是:

 - 先随机生成一个含有n个个体种群
 - 通过定义的适应度函数，得到该种群各个个体的适应度
 - **选择:** 适应度高的个体被选到的概率更高，最后被选到的个体组成一个新种群
 - **交配:** 设定一个交配概率，每一个个体都有这个概率和其他个体进行交配，互换信息。形成新的种群。
 - **变异:** 设定一个变异概率，每一个个体都有这个概率会产生变异，形成新种群。
 - 重复以上三步，直到满足某一条件(种群整体适应度高、循环次数达到上限等)才停止。







## 1. 编码

1. 二进制编码法

1001011010111

​	个体长度短，达不到精度要求； 个体编码长度长，虽提高了精度，单增加了解码的难度。

​	可以用二进制转带小数的十进制来增加精度

优点:

- 编码、解码简单(二进制十进制转化)
- 交叉、变异容易操作(交叉即直接选择与其他编码的连接点，进行01交换。 变异则直接把1/0互相变)

缺点：

​	对于连续函数的优化问题，由于其随机性使得局部搜索能力差，对一些精度要求高的问题，当解接近最优解后，因其变异以后表现型变化很大(比如最左边的1变成0，转换成十进制数值差距特别大)且不连续，所以会远离最优解、达不到稳定。



2. 浮点编码法

1.2 - 3.2 - 5.3 - (-7.2) - 1.4 - 9.7

$y = ax^{b+cx}+dx+ex\frac{f}{\sqrt{x}}$

像上述的浮点编码就可以用来代替上式中的a~f；从而我们就可以优化公式了(例如让式子的最大值最大)

或者也可以用

1 - 3 - 2 - 5 - 6 - 3 | 来表示132.563; 用这个值代表X, 从而求某一函数的最大值



​	每个基因只用某一范围内的一个浮点数来表示，必须保证基因之在给定的区间限制范围内，并保证交叉、变异所产生的新基因值也在该范围内。



​	浮点数编码的交叉还是和二进制编码的交叉相同，但是变异不同。浮点数编码的变异，我们可以设置一个变异强度，比如2。要变异的浮点数如果为5.3， 那么就从均值为5.3、标准差为2的正态分布(可变)中随机产生一个数，作为变异的数。



优点:

- 适用于在遗传算法中表示范围较大的数
- 适用于精度要求较高的遗传算法
- 便于较大空间的遗传搜索
- 便于针对问题处理复杂的约束条件



3. 符号编码法

A - B - C - D - E







## 2. 选择

1. 轮盘赌(Roulette Wheel Selection)

​	放回式随机抽样。**每一次选择**，每个个体进入下一代的概率为其适应度与总体适应度和的比例。重复以上操作直到选满。 选择误差较大

2. 随机竞争选择(Stochastic Tournament)

​	每次按轮盘赌选择两个个体，这两个个体中适应度高的进入种群，反复以上操作直到选满

3. 期望值选择(Expected Value Selection)

   (1) 计算群体中每个个体在下一代中的生存期望数目N (?)

   (2) 全部进入交叉环节。若某一个体被选中参加交叉，则它的下一代中的生存期望数目减0.5; 若没被选中则减1

   (3) 当个体的生存期望数小于-是，则不再有机会被选中

4. 还有许多其他选择方法且可自己设计; 略







## 3. 变异

1. 基本位变异(Simple Mutation)

   对个体编码串中的所有编码位都有一个变异概率，若概率达成，则做变异运算

2. 均匀变异(Uniform Mutation)

   用某一范围内均匀分布的随机数，以某一概率来替换编码位上的原有基因值

   特别适用于算法的初级运行阶段

3. 高斯近似变异(Gaussian Mutation)

   可以用原有基因值作为均值，自己选择一个变异强度作为标准差，然后用正态分布产生新的值

4. 还有其他变异算法，亦可自己设计; 略







## 4. 以求f(x)在[a,b]内的最大值为例


#### 1. 产生种群

​	随机生成[0, 1, 0, 0, ...., 1] 这样的由0/1组成的数组n个

#### 2. 求个体适应度

​	每一个数组都视为一个个体，每一个个体都从二进制转换为十进制，然后normalized到[a,b]内

​	因为求得是f(x)的最大值，所以函数值就作为适应度函数很合适。

​	将各个个体转换成的十进制值带入f(x)内，所得函数值即为各个个体的适应度

#### 3. 选择

​	进行选择，适应度高的个体被选中的概率大，每一个个体是有被重复选择的可能的(采用了轮盘赌)。

​	最终在这个种群内选择n次，产生新的含有n个个体的选择种群。

#### 4. 交配

​	设定交配概率。

​	每一个选择种群中的个体都有这个概率与种群内随机个体进行交配。进行信息交换。

​	在该例中即随机生成交配节点，进行0/1的互换产生子体。	

​	然后子体将母体替换掉。形成交配种群

#### 5. 突变

​	设定突变概率。

​	每个个体内的0/1都有这个概率产生突变。即从0变成1；从1变成0。

​	形成突变种群。

#### 6. 迭代

​	将突变种群作为新种群。	

​	重复3-5步。直到满足某种停止条件。

​	一般停止条件都是满足循环次数、若干代适应度没有改进、平均适应度若干代没有改进等。





























